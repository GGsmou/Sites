<!DOCTYPE html>
<html lang="ua">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Code 2</title>
	<link rel="shortcut icon" href="img/logo.png" type="image/png">
	<link rel="stylesheet" href="style.css">
	<script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
	<div class="topleft">
		<p>Кодування 2</p>
	</div>
  	<div class="middle">
	    <input id="codez" placeholder="Текст"><br>
		<button id="code">Закодувати</button><br>
		<input id="decodez" placeholder="Код"><br>
		<button id="decode">Розкодувати</button><br>
		<p id="output">...</p>
		<button onclick="copyElementText()">Скопіювати</button>
		<script>
			function copyElementText() {
			    var text = document.getElementById("output").innerText;
			    var elem = document.createElement("textarea");
			    document.body.appendChild(elem);
			    elem.value = text;
			    elem.select();
			    document.execCommand("copy");
			    document.body.removeChild(elem);
			}
		</script>
  	</div>
  	<div class="bottomleft">
	    <p>
	      <a href="https://chsw.pp.ua/">Made by GGsmou</a>
	    </p>
  	</div>

<py-script>
import asyncio
import json
from pyodide import ffi

runButton = document.getElementById('code')

Element('output').write('ga1y')

def codeFunc(*args, **kwargs):
	text = Element('codez').element.value
	Element('output').write(text)

cc = ffi.create_proxy(codeFunc)
runButton.addEventListener('click',cc)
</py-script>

</body>
</html>
</html>